<header class="toolbar d-flex-column p-10" *transloco="let t">
  <div class="upper d-flex align-center">
    <img
      class="logo pointer"
      height="70"
      src="../../../assets/images/logo.png"
      routerLink=""
    />
    <div class="d-flex-grow"></div>
    <ng-container *ngIf="!(isLoggedIn$ | async); else userProfile">
      <dato-button
        class="mr-10"
        datoType="secondary"
        (click)="openLoginDialog('login')"
        >{{ t('login') }}</dato-button
      >
      <dato-button class="mr-10" (click)="openLoginDialog('sign-up')">{{
        t('sign-up')
      }}</dato-button>
    </ng-container>
    <ng-template #userProfile>
      <div
        class="profile mr-20 pointer"
        [datoTooltip]="userMenu"
        datoTooltipType="long"
        datoTooltipPosition="bottom"
        datoTooltipTrigger="click"
        #tooltip="datoTooltip"
      >
        <dato-icon
          height="40px"
          width="40px"
          class="primary-300-color"
          datoIcon="user"
        ></dato-icon>
      </div>
      <ng-template #userMenu>
        <div class="d-flex-column">
          <div class="dato-sub-headline mb-10">
            {{ t('hello', { name: user.name }) }}
          </div>
          <div class="dato-simple-bold mb-10">
            {{ t('you-have-rewards', { rewards: user.rewards || 0 }) }}
          </div>
          <dato-link
            class="my-5"
            datoType="secondary"
            routerLink="user/my-products"
            (click)="tooltip.hide()"
            >{{ t('my-products') }}</dato-link
          >
          <dato-link
            class="my-5"
            datoType="secondary"
            routerLink="user/my-orders"
            (click)="tooltip.hide()"
            >{{ t('my-orders') }}</dato-link
          >
          <dato-link
            class="my-5"
            datoType="secondary"
            routerLink="user/profile"
            (click)="tooltip.hide()"
            >{{ t('my-profile') }}</dato-link
          >
          <dato-link
            *hasRole="'admin'"
            class="my-5"
            datoType="secondary"
            routerLink="admin"
            (click)="tooltip.hide()"
            >{{ t('management') }}</dato-link
          >
          <dato-button
            class="mt-10"
            datoType="secondary"
            (click)="logout() && tooltip.hide()"
            >{{ t('logout') }}</dato-button
          >
        </div>
      </ng-template>
    </ng-template>
    <dato-button class="mr-10" datoType="orange" (click)="addNewItem()"
      >+ {{ t('post-something') }}</dato-button
    >
    <!--  <dato-icon datoIcon="shopping-cart"></dato-icon>-->
    <!--    <div class="cart d-flex align-center-end pointer" *datoSubscribe="itemsCount$ as itemsCount">-->
    <!--      <div class="items-count absolute" [ngClass]="{'single-digit': itemsCount < 10, 'triple-digit': itemsCount > 99}">{{itemsCount > 99 ? '99+' : itemsCount}}</div>-->
    <!--      <svg fill="orange" xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M10 19.5c0 .829-.672 1.5-1.5 1.5s-1.5-.671-1.5-1.5c0-.828.672-1.5 1.5-1.5s1.5.672 1.5 1.5zm3.5-1.5c-.828 0-1.5.671-1.5 1.5s.672 1.5 1.5 1.5 1.5-.671 1.5-1.5c0-.828-.672-1.5-1.5-1.5zm6.305-15l-3.432 12h-10.428l-3.777-9h-2.168l4.615 11h13.239l3.474-12h1.929l.743-2h-4.195z"/></svg>-->
    <!--      <div class="title">{{ 'cart' | transloco }}</div>-->
    <!--    </div>-->
  </div>
  <div class="lower d-flex align-center">
    <dato-button
      class="link"
      datoType="none"
      routerLink="home"
      routerLinkActive="active-page"
    >
      <div>{{ t('home-page') }}</div>
    </dato-button>
    <dato-button
      class="link"
      datoType="none"
      [datoMenuTriggerFor]="gettingStarted"
    >
      <div class="mr-3">{{ t('getting-started') }}</div>
      <dato-icon width="10px" height="17px" datoIcon="arrow-down"></dato-icon>
    </dato-button>
    <dato-button
      class="link"
      datoType="none"
      routerLink="marketplace"
      routerLinkActive="active-page"
    >
      <div>{{ t('marketplace') }}</div>
    </dato-button>
    <dato-button
      class="link"
      datoType="none"
      routerLink="about"
      routerLinkActive="active-page"
    >
      <div>{{ t('about-us') }}</div>
    </dato-button>
    <dato-button
      class="link"
      datoType="none"
      routerLink="contact"
      routerLinkActive="active-page"
    >
      <div>{{ t('contact-us') }}</div>
    </dato-button>
  </div>

  <dato-menu #gettingStarted="datoMenu" placement="bottom-center">
    <ng-template datoMenuContent>
      <button datoMenuItem routerLink="">
        <div>{{ t('how-to-post') }}</div>
      </button>
      <button datoMenuItem routerLink="">
        <div>{{ t('how-to-rent') }}</div>
      </button>
      <button datoMenuItem routerLink="">
        <div>{{ t('what-are-rewards') }}</div>
      </button>
    </ng-template>
  </dato-menu>
</header>
